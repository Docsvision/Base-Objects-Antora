:update: backoffice

= Обновление модуля

include::dev@webclient:ROOT:partial$excerpts.adoc[tags=what-changed]

[#conditions]
== Условия обновления

* Установка новой версии должна выполняться в нерабочее время.
* Создайте резервную копию БД {dv}.
* База данных {dv} должна быть переведена на работу с расширенными метаданными.
* При обновлении версия клиентского дистрибутива должна быть равной версии серверного дистрибутива.
* Если к новой версии модуля приложена инструкция по обновлению, следуйте ей.
* Если комплект обновления включает обновление для модуля {pl}, перейдите к инструкции, приведенной в xref:dev@platform:admin:update-module.adoc[документации по администрированию] модуля _{pl}_.

//tag::notifications[]
[WARNING]
====
В связи с тем, что в версии 5.5.5 модуля {bo} механизм обработки заданий и групп заданий был изменён, обратите внимание на следующие пункты:

. Перед установкой обновления, необходимо дождаться завершения работы БП _Маршрутизация заданий в почту_, чтобы уведомления по всем запущенным заданиям были отправлены.
. После обновления базы данных БП _Маршрутизация заданий в почту_ будет работать только для обработки ответных писем, но уведомления будут рассылаться при помощи Службы {ws}.
====
//end::notifications[]

[#update]
== Порядок обновления

include::dev@platform:admin:partial$update.adoc[]
+
При обновлении БД в БД {dv} будут загружены стандартные настройки приложения "Почтовый клиент" (входит в модуль _{bo}_).
+
include::dev@platform:admin:partial$client.adoc[]
`{dv} BackOffice client.msi`.

// [#multiple-modules]
// == Обновление нескольких модулей
//
// Если планируется обновлять несколько модулей, следующие действия следует выполнять один раз после установки новых версий всех модулей:
//
// . Откройте {cns}.
// +
// Программа будет запущена в режиме мастера настройки.
// +
// [NOTE]
// ====
// Пользователь, от имени которого запускается _{cns}_ должен являться администратором {dv}, а также входить в группы {dv} в Справочнике сотрудников: _{dv-dm-admins-dir}_, _{dv-ad-admins-dir}_ и _{dv-sys-wf-dir}_.
// ====
// +
// . На странице _Базы данных_ выберите рабочую БД {dv}, установите переключатель в режим *Использовать выбранную в списке базу данных* и нажмите *Далее*.
// +
// .Обновление базы данных
// image::common:update-db.png[Обновление базы данных]
// +
// . Будет предложено обновить базу данных до новой версии. Выберите вариант *ДА*.
// . На следующей странице не изменяйте выбор обновляемых библиотек карточек. Нажмите *Далее*.
// +
// .Обновление библиотек карточек
// image::common:update-card-lib.png[Обновление библиотек карточек]
// +
// . На странице _Параметры базы данных_ нажмите *Далее*. Появится запрос на подтверждение обновления -- согласитесь. Процесс обновления займет некоторое время.
// // . На странице настроек производительности и перезапуска IIS нажмите *Далее*.
// . На странице _Загрузка специальной конфигурации {dm}_ нажмите *Далее*, чтобы загрузить стандартную конфигурацию приложения {dm}.
// +
// .Обратите внимание:
// ****
// Данные действия приведут к загрузке стандартных настроек приложения _{dm}_. Если требуется сохранить существующие настройки, на шаге загрузки специальной конфигурации {dm} нажмите *Пропустить*.
//
// .Специальная конфигурация "{dm}"
// image::platform:admin:document-management.png[Специальная конфигурация "{dm}"]
//
// Подробнее см. в xref:dev@documentmgmt:admin:update-module.adoc#update-no-overwrite[документации по обновлению модуля "{dm}"].
// ****
// +
// . Выполните аналогичные действия на шаге _Загрузка специальной конфигурации {ad}_.
// +
// . Подтвердите настройки Workflow и выйдите из мастера.
// . Обновите версию модуля на всех узлах кластера {dv}, СУБП и {wc}а.
// . Клиентские компоненты модуля на компьютерах пользователей будут обновлены автоматически при запуске {wincl}а.
// +
// Самостоятельно обновить клиентские компоненты можно из пакета установки `{dv} BackOffice client.msi`.
